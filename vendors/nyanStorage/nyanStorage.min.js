!function () { function t(t) { try { JSON.parse(t) } catch (t) { return !1 } return !0 } function e() { } e.prototype.get = function (e) { return t(e = localStorage.getItem(e)) ? JSON.parse(e) : e }, e.prototype.put = function (t, e) { var o = "object" == typeof e ? JSON.stringify(e) : e; localStorage.setItem(t, o) }, e.prototype.push = function (t, e) { if (null != localStorage.getItem(t)) { var o = JSON.parse(localStorage.getItem(t)); o.push(e), localStorage.setItem(t, JSON.stringify(o)) } else localStorage.setItem(t, JSON.stringify([e])) }, e.prototype.update = function (t, e, o) { if (null != localStorage.getItem(t)) { var r = JSON.parse(localStorage.getItem(t)), a = !1; r.forEach(function (t, n) { t[e.a] == o[e.a] && (a = !0, e.update.forEach(function (t) { r[n][e.update] = o[t] })) }), a || r.push(o), localStorage.setItem(t, JSON.stringify(r)) } else localStorage.setItem(t, JSON.stringify([o])) }, e.prototype.remove = function (t) { localStorage.removeItem(t) }, e.prototype.getAll = function () { var e = localStorage, o = {}; if ("object" == typeof e) { for (var r in e) if (e.hasOwnProperty(r)) { var a = e[r]; a = t(a) ? JSON.parse(a) : a, o[r] = a } return o } throw Error("localStorage not supported") }, e.prototype.clear = function () { return localStorage.clear() }, window.b = new e }(window), function () { var t = { onGetFire: function () { }, onPutFire: function () { }, onUpdateFire: function () { }, onRemoveFire: function () { } }, e = function (t) { try { JSON.parse(t) } catch (t) { return !1 } return !0 }, o = function (t) { return "object" == typeof t }; function r() { } r.prototype.isAvailable = function (t) { return null != localStorage.getItem(t) }, r.prototype.get = function (o) { t.onGetFire(); var r, a = (r = o, localStorage.getItem(r)); return e(a) ? JSON.parse(a) : a }, r.prototype.put = function (e, r) { var a; t.onPutFire({ key: e, data: r }), a = o(r) ? JSON.stringify(r) : r, localStorage.setItem(e, a) }, r.prototype.push = function (t, e) { if (null != localStorage.getItem(t)) { var o = JSON.parse(localStorage.getItem(t)); o.push(e), localStorage.setItem(t, JSON.stringify(o)) } else { var r = [e]; localStorage.setItem(t, JSON.stringify(r)) } }, r.prototype.updateItem = function (t, e) { localStorage.getItem(t); localStorage.setItem(t, e) }, r.prototype.update = function (t, e, o) { if (null != localStorage.getItem(t)) { var r = JSON.parse(localStorage.getItem(t)), a = !1; r.forEach(function (t, n) { t[e.uniq] == o[e.uniq] && (a = !0, e.update.forEach(function (t) { r[n][e.update] = o[t] })) }), a || r.push(o), localStorage.setItem(t, JSON.stringify(r)) } else { var n = [o]; localStorage.setItem(t, JSON.stringify(n)) } }, r.prototype.remove = function (t) { localStorage.removeItem(t) }, r.prototype.getAll = function () { var t, r, a = localStorage, n = {}; if (o(a)) { for (var l in a) a.hasOwnProperty(l) && (t = a[l], r = e(t) ? JSON.parse(t) : t, n[l] = r); return n } throw new Error("localStorage not supported") }, r.prototype.clear = function (t) { return localStorage.clear() }, r.prototype.on = function (e, o) { switch (e) { case "getItem": t.onGetFire = o; break; case "putItem": t.onPutFire = o; break; case "updateItem": t.onUpdateFire = o; break; case "removeItem": t.onRemoveFire = o; break; default: throw new Error('event "' + e + "' is undefined") } }, window.nyanStorage = new r }(window);